<!DOCTYPE>
<!--
	http://www.w3schools.com/jsref/met_node_appendchild.asp
	http://www.w3schools.com/js/js_switch.asp
	http://www.howtocreate.co.uk/tutorials/javascript/dombasics
	
	http://www.w3schools.com/tags/att_link_media.asp
	http://www.responsivegridsystem.com/
	
	https://github.com/ChilliByte/chillibyte.github.io/blob/master/twitchChatsNew.html
	http://eclipsecolorthemes.org/?view=theme&id=14105
-->
<html>
	<head>
		<title>Amazing Streamers</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<meta name="author" content="Dminer78">
		<link rel="icon" href="../../favicon.ico" type="image/x-icon">
		
		<script src="../../js/pace.min.js"></script>
		<link href="../../css/pace.css" rel="stylesheet" />

		<script src="js/streamers.js"></script>
		<link href="css/streams.css" rel="stylesheet" />
		
		<script src="../../js/copyright.js"></script>
	</head>
	<body>
		
		<h1>Amazing Streamers</h1>
		<h4>Check out everyone! I'm sure you'll find someone you enjoy watching!</h4>
		<hr>
		<div id="warning">
		
		</div>
		<br />
		<div class="streams">
			<div class="section group">
				<div id="0" class="col span_1_of_3">
				</div>
				<div id="1" class="col span_1_of_3">
				</div>
				<div id="2" class="col span_1_of_3">
				</div>
			</div>
			
			<div class="section group">
				<div id="3" class="col span_1_of_3">
				</div>
				<div id="4" class="col span_1_of_3">
				</div>
				<div id="5" class="col span_1_of_3">
				</div>
			</div>
			
			<div class="section group">
				<div id="6" class="col span_1_of_3">
				</div>
				<div id="7" class="col span_1_of_3">
				</div>
				<div id="8" class="col span_1_of_3">
				</div>
			</div>
			
			<div class="section group">
				<div id="9" class="col span_1_of_3">
				</div>
				<div id="10" class="col span_1_of_3">
				</div>
				<div id="11" class="col span_1_of_3">
				</div>
			</div>
			
			<div class="section group">
				<div id="12" class="col span_1_of_3">
				</div>
				<div id="13" class="col span_1_of_3">
				</div>
				<div id="14" class="col span_1_of_3">
				</div>
			</div>
			
			<div class="section group">
				<div id="15" class="col span_1_of_3">
				</div>
				<div id="16" class="col span_1_of_3">
				</div>
				<div id="17" class="col span_1_of_3">
				</div>
			</div>
			
			<div class="section group">
				<div id="18" class="col span_1_of_3">
				</div>
				<div id="19" class="col span_1_of_3">
				</div>
				<div id="20" class="col span_1_of_3">
				</div>
			</div>
			
		</div>
		
		<!-- Footer -->
		<hr>
		<footer>
			<ul class='copyright'>
				<li>&copy; dminer78. All rights reserved.</li>
				<li>Did something go wrong? <a href='http://twitter.com/dminer78' target='_blank'>Tweet at me!</a></li>
			</ul>
			
		

		<script type="text/javascript">
			
			function imgError(image) {
				image.onerror = "";
				image.src = "images/unknownStreamer.png";
				return true;
			}
			
			function cleanArray(actual){
				var newArray = new Array();
				for(var i = 0; i<actual.length; i++){
					if (actual[i]){
						newArray.push(actual[i]);
					}
				}
				return newArray;
			}
			
			try {
				var url = (window.location.href.split("?")[1]).split("&");
				url = cleanArray(url);
				url.unshift("dminer");
				
				console.info("Streamers in link: " + url + "\nURL: " + window.location.href);
			} catch(e) {
				//if (typeof url === "undefined" || typeof url === "null" || url == "") {
				document.getElementById('warning').innerHTML = "<h1>Unable to get streamers from URL</h1>" + e + "<br />URL: " + window.location.href;
			}
			
			if(url.length <= 21) {
				for(i = 0; i < url.length; i++) {

					//Debug 
					/*
					console.group();
					console.info("Streamer: " + url[i]);
					console.info("imgID: " + currentStreamer[0]);
					console.info("Link: " + currentStreamer[1]);
					console.groupEnd();
					*/
					
					//HTML
					currentStreamer = getStreamer(url[i]);
					document.getElementById(i).innerHTML = currentStreamer[2] + "<br /> <img src='" + currentStreamer[0] + "' alt='" + currentStreamer[2] + " Profile Picture' onError='imgError(this);' /><br /><br />"
					document.getElementById(i).innerHTML += "<a href='" + currentStreamer[1] + "' class='button' target='_blank'></a><br /><br />";
				}
			} else {
				document.getElementById('warning').innerHTML = "<h1>" + (url.length - 1) + " is too many streamers!</h1><h3>The maximum you can add is 20!</h3>";
			}
		</script>
			
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-62452305-1', 'auto');
		  ga('send', 'pageview');
		</script>
	</body>
</html>